<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Urban Echo</title>

  <link rel="icon" href="./logo.png" type="image/png">
  <link rel="stylesheet" href="./style.css"/>

  <link rel="stylesheet" href="./style.css"/>

  <!-- Leaflet -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
</head>
<body>
  <!-- Background particle canvas (always on) -->
  <canvas id="scene"></canvas>

  <!-- Intro / Home screen (initially visible) -->
  <section id="intro" class="intro">
    <div class="intro-card">
      <h1 class="intro-title">Urban Echo</h1>
      <p class="intro-tagline">Listen to your city’s emotions and respond faster.</p>

      <ul class="intro-points">
        <li>Anonymous mood check-ins pinned to approximate areas (privacy-safe).</li>
        <li>AI analyzes sentiment, topics, and risk to surface real issues.</li>
        <li>Heatmap + Alerts for city teams to act on spikes and clusters.</li>
      </ul>

      <div class="intro-actions">
        <button id="startBtn" class="intro-primary">Start exploring</button>
        <label class="intro-checkbox">
          <input id="skipNext" type="checkbox" />
          <span>Skip this screen next time</span>
        </label>
      </div>
    </div>
  </section>

  <!-- Map layer (hidden until Start) -->
  <div id="map" class="hidden"></div>

  <!-- Fullscreen overlay for celebration -->
  <div id="celebration" aria-hidden="true">
    <canvas id="celebrationCanvas"></canvas>
    <div class="celebration-text" id="celebrationText">Well done!</div>
  </div>

  <!-- Header -->
  <header class="topbar hidden">
    <h1>Echo Sence</h1>
  </header>

  <!-- Right panel -->
  <section class="panel hidden">
    <h2>Anonymous Mood Check-in</h2>

    <label for="postcode">Postcode / Area</label>
    <input id="postcode" placeholder="T2N 1N4 or NW/NE/SW/SE" />

    <label for="mood">Your mood (one sentence)</label>
    <textarea id="mood" rows="4" placeholder="Type how you feel..."></textarea>

    <button id="submitBtn" type="button">Submit</button>
    <div id="result" class="result"></div>

    <!-- <hr/>
    <div class="demo">
      <p style="margin:0;">Palette:</p>
      <button data-emotion="positive" type="button">Positive</button>
      <button data-emotion="neutral"  type="button">Neutral</button>
      <button data-emotion="negative" type="button">Negative</button>
    </div>

    <div class="demo" style="margin-top:10px;">
      <p style="margin:0;">Shape:</p>
      <button data-shape="galaxy"  type="button">Galaxy</button>
      <button data-shape="xmas"    type="button">Xmas</button>
      <button data-shape="heart"   type="button">Heart</button>
      <button data-shape="blossom" type="button">Blossom</button>
    </div>

    <hr />
    <h3 style="margin:8px 0 6px 0;">Recent Alerts</h3>
    <div id="alertsPanel" style="max-height:160px; overflow:auto; font-size:13px; opacity:.95;">
      <em>Loading…</em>
    </div> -->
  </section>

  <!-- Three.js core -->
  <script src="https://unpkg.com/three@0.159.0/build/three.min.js"></script>

  <!-- App scripts (order matters) -->
  <script src="./js/particles.js"></script>
  <script src="./js/celebration3d.js"></script>
  <script src="./js/intro.js"></script>      <!-- NEW: home/intro controller -->
  <script src="./js/ui.js"></script>
  <script src="./js/map.js"></script>
</body>
</html>
