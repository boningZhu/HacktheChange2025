/* Base */
html, body {
  margin: 0;
  height: 100%;
  overflow: hidden;
  background: #000;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
}

/* Layer order: particles (0) < map (1) < UI (10) < celebration (100) */
#scene { position: fixed; inset: 0; display: block; z-index: 0; }
#map   { position: fixed; inset: 0; z-index: 1; }

.topbar, .panel { z-index: 10; color: #fff; }

.topbar {
  position: fixed; left: 20px; top: 14px;
  text-shadow: 0 2px 8px rgba(0,0,0,.6);
}
.topbar h1 { margin: 0; font-size: 20px; }
.topbar .hint { margin: 4px 0 0; font-size: 12px; opacity: .8; }

.panel {
  position: fixed; right: 20px; top: 20px; width: 320px;
  background: rgba(20,20,30,.65); backdrop-filter: blur(8px);
  border: 1px solid rgba(255,255,255,.1); border-radius: 12px; padding: 16px;
}
.panel h2 { margin: 0 0 12px; font-size: 18px; }
.panel label { display: block; margin-top: 10px; font-size: 13px; opacity: .9; }
.panel input, .panel textarea {
  width: 100%; margin-top: 6px; border-radius: 8px; padding: 10px 12px;
  border: 1px solid rgba(255,255,255,.25); background: rgba(255,255,255,.08); color: #fff;
  box-sizing: border-box;
}
.panel button {
  margin-top: 12px; width: 100%; padding: 10px 0; border: none; border-radius: 10px;
  background: #5c7cfa; color: #fff; font-weight: 600; cursor: pointer;
}
.panel button:hover { filter: brightness(1.05); }

.result { margin-top: 10px; min-height: 24px; font-size: 13px; opacity: .95; }
.demo { display: flex; gap: 8px; flex-wrap: wrap; align-items: center; }
.demo button { flex: 1; padding: 8px 0; background: rgba(255,255,255,.1); color: #fff; }

/* Celebration overlay */
#celebration {
  position: fixed; inset: 0; z-index: 100; display: none;
  background: radial-gradient(ellipse at center, rgba(0,0,0,.2), rgba(0,0,0,.75));
}
#celebration.show { display: block; }
#celebrationCanvas { position: absolute; inset: 0; width: 100%; height: 100%; }
.celebration-text {
  position: absolute; left: 50%; top: 50%; transform: translate(-50%,-50%);
  color: #fff; font-size: 40px; letter-spacing: 1px; text-align: center;
  text-shadow: 0 6px 24px rgba(0,0,0,.8); pointer-events: none;
  animation: pop 0.6s ease-out both;
}
@keyframes pop { from { transform: translate(-50%,-50%) scale(.8); opacity: 0; }
                 to   { transform: translate(-50%,-50%) scale(1);   opacity: 1; } }

/* Map markers */
.pulse-marker {
  width: 22px; height: 22px; border-radius: 50%;
  border: 2px solid #fff; box-shadow: 0 0 10px rgba(0,0,0,.4);
  display: grid; place-items: center; color:#000; font-size: 12px; font-weight: 700;
  animation: float 1.2s ease-in-out infinite;
}
.pulse-positive { background: #4cd97b; }
.pulse-neutral  { background: #cfcfcf; }
.pulse-negative { background: #ff6b6b; }
@keyframes float { 0%,100% { transform: translateY(0); } 50% { transform: translateY(-4px); } }
